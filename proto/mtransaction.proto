syntax = "proto3";

package validator;

// The MTransaction service definition.
service MTransaction {
  // Sends message to be streamed back
  rpc TxStream(stream RequestMessageEnvelope) returns (stream ResponseMessageEnvelope) {}
}

message RequestMessageEnvelope {
  Pong pong = 1;
  Metrics metrics = 2;
}

// The response message envelope
message ResponseMessageEnvelope {
  Tx tx = 1;
  Ping ping = 2;
}

// The response Tx
message Tx {
  string data = 1;
  repeated string tpu = 2;
}

// The response Ping
message Ping {
  string id = 1;
}

// The request Pong
message Pong {
  string id = 1;
}

// The request Metrics
message Metrics {
  uint64 tx_received = 1;
  uint64 tx_succeeded = 2;
  uint64 tx_failed = 3;
}
